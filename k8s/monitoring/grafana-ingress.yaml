apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: grafana-ingress
    namespace: monitoring
    annotations:
        kubernetes.io/ingress.class: 'alb'
        alb.ingress.kubernetes.io/scheme: internet-facing
        alb.ingress.kubernetes.io/target-type: ip
        alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
        alb.ingress.kubernetes.io/healthcheck-path: '/api/health'
        alb.ingress.kubernetes.io/success-codes: '200-399'
        # Recommended: lock this down to your IP (comma-separated CIDRs).
        alb.ingress.kubernetes.io/inbound-cidrs: '1.2.3.4/32'
spec:
    rules:
        - http:
              paths:
                  - path: /
                    pathType: Prefix
                    backend:
                        service:
                            name: monitoring-grafana
                            port:
                                number: 80
