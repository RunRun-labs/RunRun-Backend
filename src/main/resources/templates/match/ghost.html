<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
  />
  <title>RUNRUN | 고스트런</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&display=swap"
      rel="stylesheet"
  />
  <link rel="stylesheet" href="/css/ghost.css" th:href="@{/css/ghost.css}">
  <link rel="stylesheet" href="/css/notification-toast.css"
        th:href="@{/css/notification-toast.css}">
</head>
<body>
<div class="container">
  <main class="page">
    <!-- 상단 고정 영역 (헤더 + 필터) -->
    <div class="sticky-header-wrapper">
      <header class="header">
        <button type="button" id="backBtn" class="back-button" aria-label="뒤로가기">
          <img th:src="@{/img/icons/back.svg}" src="/img/icons/back.svg" alt="뒤로가기">
        </button>
        <div class="header-content">
          <h1 class="header-title">고스트런</h1>
        </div>
      </header>

      <!-- 필터 칩 섹션 -->
      <section class="filter-section">
        <div class="filter-chips" id="filterChips">
          <!-- JavaScript로 동적 생성 -->
        </div>

        <!-- 날짜 필터 섹션 -->
        <div class="date-filter-section">
          <div class="date-filter-description">원하는 기간을 선택하세요</div>
          <div class="date-filter-inputs">
            <div class="date-input-group">
              <label for="startDate" class="date-label">시작일</label>
              <input type="date" id="startDate" class="date-input"/>
            </div>
            <div class="date-input-group">
              <label for="endDate" class="date-label">종료일</label>
              <input type="date" id="endDate" class="date-input"/>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- 안내 박스 -->
    <div class="info-box">
      <div class="info-box-icon">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
             xmlns="http://www.w3.org/2000/svg">
          <path
              d="M10 2C5.58 2 2 5.58 2 10C2 14.42 5.58 18 10 18C14.42 18 18 14.42 18 10C18 5.58 14.42 2 10 2ZM10 15C9.45 15 9 14.55 9 14C9 13.45 9.45 13 10 13C10.55 13 11 13.45 11 14C11 14.55 10.55 15 10 15ZM11 11H9V6H11V11Z"
              fill="currentColor"/>
        </svg>
      </div>
      <div class="info-box-content">
        <h3 class="info-box-title">과거 기록을 선택하세요</h3>
        <p class="info-box-text">선택한 기록의 페이스가 고스트로 표시되어 실시간으로 비교하며 달릴 수 있어요</p>
      </div>
    </div>

    <!-- 러닝 기록 목록 -->
    <section class="records-section">
      <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <p>로딩 중...</p>
      </div>
      <div id="recordsList" class="records-list">
        <!-- JavaScript로 동적 생성 -->
      </div>
      <div id="sentinel" style="height: 1px;"></div>
      <div id="emptyState" class="empty-state" style="display: none;">
        <p>러닝 기록이 없습니다.</p>
      </div>
    </section>
  </main>

  <!-- 하단 고정 버튼 -->
  <button type="button" id="startButton" class="start-button" disabled>
    <svg class="start-button-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
         xmlns="http://www.w3.org/2000/svg">
      <path d="M9 2L3 6V16L9 12L15 16V6L9 2Z" stroke="currentColor" stroke-width="1.5"
            stroke-linejoin="round" fill="none"/>
    </svg>
    고스트런 시작하기
  </button>
</div>

<div
    id="bottomNavMount"
    th:replace="~{common/bottom-nav :: bottomNav}"
></div>

<script src="/js/notification-common.js" th:src="@{/js/notification-common.js}"></script>
<script src="/js/ghost.js" th:src="@{/js/ghost.js}"></script>
<script src="/js/api-common.js" th:src="@{/js/api-common.js}"></script>
</body>
</html>

