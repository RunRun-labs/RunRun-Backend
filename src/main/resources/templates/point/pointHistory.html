<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포인트 내역</title>
    <link rel="stylesheet" th:href="@{/css/point-history.css}">
</head>
<body>
<!-- 헤더 -->
<div class="header">
    <button class="btn-back" onclick="history.back()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
    </button>
    <h1 class="header-title">포인트 내역</h1>
</div>

<!-- 필터 버튼 -->
<div class="filter-container">
    <button class="filter-btn active" onclick="changeFilter('ALL', event)">전체</button>
    <button class="filter-btn" onclick="changeFilter('EARN', event)">적립</button>
    <button class="filter-btn" onclick="changeFilter('USE', event)">사용</button>
</div>

<!-- 내역 리스트 -->
<div class="history-container">
    <div id="historyList" class="history-list">
        <!-- 내역이 동적으로 추가됩니다 -->
    </div>
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div style="margin-bottom: 12px;">⏳</div>
        내역을 불러오는 중...
    </div>
</div>

<!-- 하단 네비게이션 -->
<template id="bottomNavTemplate">
    <nav class="bottom-nav" aria-label="하단 메뉴">
        <a class="nav-item" th:href="@{/chat}" href="/chat">
            <img
                    src="/img/icons/chat.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>chat</span>
        </a>
        <a class="nav-item" th:href="@{/feed}" href="/feed">
            <img
                    src="/img/icons/feed.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>feed</span>
        </a>
        <a class="nav-item" th:href="@{/}" href="/">
            <img
                    src="/img/icons/home.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>home</span>
        </a>
        <a class="nav-item" th:href="@{/match}" href="/match">
            <img
                    src="/img/icons/match.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>match</span>
        </a>
        <a class="nav-item active" th:href="@{/my}" href="/my">
            <img
                    src="/img/icons/my.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>my</span>
        </a>
    </nav>
</template>

<div
        id="bottomNavMount"
        th:replace="~{common/bottom-nav :: bottomNav}"
></div>

<script th:src="@{/js/point-history.js}"></script>
</body>
</html>
