<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>RUNRUN | User Profile</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="/css/user-profile.css"
            th:href="@{/css/user-profile.css}"
    />
</head>
<body class="mypage-body">
<main class="page mypage-page">
    <header class="mypage-header">
        <button class="back-button" type="button" aria-label="Îí§Î°úÍ∞ÄÍ∏∞" data-role="back">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.3333 13.3333L16.6667 20L23.3333 26.6667" stroke="#1E1E1E" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
        <h1 class="user-profile-title" id="profileTitle">ÏÇ¨Ïö©Ïûê ÌîÑÎ°úÌïÑ</h1>
    </header>

    <section class="profile-summary">
        <div class="profile-row">
            <!-- Ï¢åÏ∏°: ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ -->
            <div class="profile-avatar">
                <img
                        class="avatar-img"
                        data-role="profile-preview"
                        alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ"
                        hidden
                />
                <span
                        class="avatar-initial"
                        data-role="profile-initial"
                ></span>
            </div>

            <!-- Ï§ëÏïô: ÎàÑÏ†Å/Îû≠ÌÇπ Ï†ïÎ≥¥ -->
            <div class="profile-text profile-center">
                <p class="profile-meta">
                    ÎàÑÏ†Å:
                    <span id="totalDistance">-</span><br/>
                    Îû≠ÌÇπ:
                    <span id="rank">-</span>
                </p>
            </div>

            <!-- Ïö∞Ï∏°: ÏπúÍµ¨Ïã†Ï≤≠/Ï∞®Îã® Î≤ÑÌäº -->
            <div class="profile-actions-right">
                <button class="action-button friend-button" type="button" id="friendButton" data-role="friend">
                    ÏπúÍµ¨Ïã†Ï≤≠
                </button>
                <button class="action-button block-button" type="button" id="blockButton" data-role="block">
                    ÏÇ¨Ïö©Ïûê Ï∞®Îã®
                </button>
            </div>
        </div>
    </section>

    <section class="weekly-section">
        <div class="weekly-chips">
            <button class="chip chip-filled" type="button">
                <span class="chip-icon">üèÉ‚Äç‚ôÇÔ∏è</span>
                <span id="weekDistance">0km</span>
            </button>
            <button class="chip chip-outline" type="button">
                <span id="weekLabel">Ïù¥Î≤à Ï£º</span>
            </button>
            <button class="chip chip-filled" type="button">
                <span class="chip-icon">‚è±</span>
                <span id="weekTime">0h 0m</span>
            </button>
        </div>

        <div class="weekly-chart">
            <div class="chart-bars" id="chartBars">
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
                <div class="bar" style="--h: 0"></div>
            </div>
            <div class="chart-days">
                <span>Mo</span>
                <span>Tu</span>
                <span>We</span>
                <span>Th</span>
                <span>Fr</span>
                <span>Sa</span>
                <span>Su</span>
            </div>
        </div>
    </section>

    <section class="run-list" id="runList">
        <!-- Îü¨Îãù Í∏∞Î°ùÏù¥ ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
    </section>
</main>

<!-- Ï∞®Îã® Î™®Îã¨ -->
<div class="modal-overlay" id="blockModal" hidden>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">ÏÇ¨Ïö©Ïûê Ï∞®Îã®</h2>
            <button class="modal-close" type="button" aria-label="Îã´Í∏∞" data-role="close-block-modal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <p class="modal-text">Ïù¥ ÏÇ¨Ïö©ÏûêÎ•º Ï∞®Îã®ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
            <div class="block-options">
                <button class="block-option-button" type="button" data-role="block-only">
                    Ï∞®Îã®
                </button>
                <button class="block-option-button" type="button" data-role="block-and-report">
                    Ï∞®Îã® Î∞è Ïã†Í≥†
                </button>
            </div>
        </div>
    </div>
</div>

<template id="bottomNavTemplate">
    <nav class="bottom-nav" aria-label="ÌïòÎã® Î©îÎâ¥">
        <a class="nav-item" th:href="@{/chat}" href="/chat">
            <img
                    src="http://localhost:3845/assets/3ca81eaa50aaf4304e5454034789cf398897e16f.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>chat</span>
        </a>
        <a class="nav-item" th:href="@{/feed}" href="/feed">
            <img
                    src="http://localhost:3845/assets/a25ca98a797a195cf0014d33755d97160983a834.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>feed</span>
        </a>
        <a class="nav-item" th:href="@{/}" href="/">
            <img
                    src="http://localhost:3845/assets/6d060744ca344e07264a3340d1ce76267f035268.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>home</span>
        </a>
        <a class="nav-item" th:href="@{/match}" href="/match">
            <img
                    src="http://localhost:3845/assets/a1c3341d0388b5ec41a25350c4e525c869160bdd.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>match</span>
        </a>
        <a class="nav-item" th:href="@{/my}" href="/my">
            <img
                    src="http://localhost:3845/assets/1894082a888c5c07d733295ec6a54ed9b0711586.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>my</span>
        </a>
    </nav>
</template>

<div
        id="bottomNavMount"
        th:replace="~{common/bottom-nav :: bottomNav}"
></div>

<script>
    // ThymeleafÏóêÏÑú Ï†ÑÎã¨Îêú userIdÎ•º Ï†ÑÏó≠ Î≥ÄÏàòÎ°ú ÏÑ§Ï†ï
    window.userProfileUserId = /*[[${userId}]]*/ null;
</script>
<script src="/js/user-profile.js" th:src="@{/js/user-profile.js}"></script>
</body>
</html>

