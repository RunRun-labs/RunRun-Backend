<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>RunRun Admin | ν¬μΈνΈ μƒν’ κ΄€λ¦¬</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&family=Nunito+Sans:wght@400;600;700;800;900&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="/css/admin-layout.css"
            th:href="@{/css/admin-layout.css}"
    />
    <link
            rel="stylesheet"
            href="/css/point-product.css"
            th:href="@{/css/point-product.css}"
    />
</head>
<body>
<script src="/js/admin-common.js" th:src="@{/js/admin-common.js}"></script>
<!-- λ μ΄μ•„μ›ƒ μ μ© -->
<div th:replace="~{admin/layout :: adminLayout(~{::.point-content})}">
    <!-- μ»¨ν…μΈ  μμ—­ -->
    <div class="point-content">
        <!-- μƒλ‹¨ ν—¤λ”: νƒ€μ΄ν‹€ + ν•„ν„° + μ•΅μ… λ²„νΌ ν†µν•© -->
        <div class="content-header">
            <div class="header-left">
                <h1 class="page-title">ν¬μΈνΈ μƒν’ λ©λ΅</h1>

                <!-- ν•„ν„° μμ—­ -->
                <div class="filter-group">
                    <div class="filter-item">
                        <label class="filter-label">νλ§¤ μƒνƒ</label>
                        <select id="filterAvailable" class="filter-select">
                            <option value="">μ „μ²΄</option>
                            <option value="true">νλ§¤μ¤‘</option>
                            <option value="false">νλ§¤μ¤‘μ§€</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="header-actions">
                <button class="btn-create" id="btnCreate">
                    <span class="btn-icon">μƒμ„±ν•κΈ°</span>
                </button>
                <button class="btn-delete" id="btnDelete">
                    <span class="btn-icon">μ‚­μ ν•κΈ°</span>
                </button>
            </div>
        </div>

        <!-- μƒν’ λ©λ΅ ν…μ΄λΈ” -->
        <section class="table-section">
            <table class="product-table">
                <thead>
                <tr>
                    <th style="width: 50px">
                        <input type="checkbox" id="selectAll"/>
                    </th>
                    <th style="width: 60px">no</th>
                    <th style="width: 80px">μ΄λ―Έμ§€</th>
                    <th style="width: 25%">μƒν’λ…</th>
                    <th style="width: 120px">ν•„μ” ν¬μΈνΈ</th>
                    <th style="width: 100px">νλ§¤ μƒνƒ</th>
                    <th style="width: 180px">μƒμ„±μΌ</th>
                    <th style="width: 180px">μμ •μΌ</th>
                    <th style="width: 100px">κ΄€λ¦¬</th>
                </tr>
                </thead>
                <tbody id="productTableBody">
                <!-- λ™μ μΌλ΅ μ±„μ›μ§ -->
                </tbody>
            </table>
        </section>

        <!-- νμ΄μ§€λ„¤μ΄μ… -->
        <section class="pagination-section">
            <div id="pagination"></div>
        </section>
    </div>
</div>

<!-- μƒν’ μƒμ„±/μμ • λ¨λ‹¬ -->
<div id="productModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modalTitle">ν¬μΈνΈ μƒν’ μƒμ„±</h2>
            <button class="close-btn" id="closeModal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="productForm">
                <input type="hidden" id="productId"/>

                <div class="form-group">
                    <label for="productName"
                    >μƒν’λ… <span class="required">*</span></label
                    >
                    <input
                            type="text"
                            id="productName"
                            required
                            minlength="2"
                            maxlength="100"
                            placeholder="μ: μ¤νƒ€λ²…μ¤ μ•„λ©”λ¦¬μΉ΄λ…Έ"
                    />
                    <div class="field-error" id="errProductName"></div>
                </div>

                <div class="form-group">
                    <label for="productDescription"
                    >μƒν’ μ„¤λ… <span class="required">*</span></label
                    >
                    <textarea
                            id="productDescription"
                            required
                            minlength="10"
                            maxlength="1000"
                            placeholder="μƒν’μ— λ€ν• μμ„Έν• μ„¤λ…μ„ μ…λ ¥ν•μ„Έμ” (μµμ† 10μ)"
                    ></textarea>
                    <div class="field-error" id="errProductDescription"></div>
                </div>

                <div class="form-group">
                    <label for="requiredPoint"
                    >ν•„μ” ν¬μΈνΈ <span class="required">*</span></label
                    >
                    <input
                            type="number"
                            id="requiredPoint"
                            required
                            min="1"
                            placeholder="μ: 5000"
                    />
                    <div class="field-error" id="errRequiredPoint"></div>
                </div>

                <div class="form-group">
                    <label for="productImage"
                    >μƒν’ μ΄λ―Έμ§€ <span class="required">*</span></label
                    >
                    <div class="image-upload-area">
                        <input
                                type="file"
                                id="productImage"
                                accept="image/*"
                                style="display: none"
                        />
                        <div class="image-preview" id="imagePreview">
                            <img
                                    id="previewImg"
                                    src=""
                                    alt="λ―Έλ¦¬λ³΄κΈ°"
                                    style="display: none"
                            />
                            <div id="uploadPlaceholder" class="upload-placeholder">
                                <span class="upload-icon">π“·</span>
                                <p>ν΄λ¦­ν•μ—¬ μ΄λ―Έμ§€ μ—…λ΅λ“</p>
                                <small>κ¶μ¥ ν¬κΈ°: 500x500px</small>
                            </div>
                        </div>
                        <input type="hidden" id="productImageUrl"/>
                        <div class="field-error" id="errProductImage"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="isAvailable" checked/>
                        <span>νλ§¤ κ°€λ¥</span>
                    </label>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-cancel" id="btnCancel">
                        μ·¨μ†
                    </button>
                    <button type="submit" class="btn-submit" id="btnSubmit">
                        μ €μ¥
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script
        src="/js/point-product.js"
        th:src="@{/js/point-product.js}"
></script>
</body>
</html>