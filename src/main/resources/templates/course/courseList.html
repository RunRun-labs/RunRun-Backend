<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>RUNRUN | 코스 목록</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="/css/courseList.css"
      th:href="@{/css/courseList.css}"
    />
  </head>
  <body>
    <div class="page">
      <!-- Top Navigation -->
      <div th:replace="~{common/top-nav :: topNav}"></div>
      
      <!-- Header -->
      <header class="header">
        <button type="button" id="backBtn" class="back-button" aria-label="뒤로가기">
          <img th:src="@{/img/icons/back.svg}" src="/img/icons/back.svg" alt="뒤로가기">
        </button>
        <h1 class="header-title">코스 목록</h1>
      </header>

      <!-- Main Content -->
      <main class="course-main">
        <!-- Search Section -->
        <section class="search-section">
          <div class="search-container">
            <svg
              class="search-icon"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M21 21L16.65 16.65"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <input
              type="text"
              id="keywordInput"
              class="search-input"
              placeholder="검색어를 입력하세요"
            />
          </div>
        </section>

        <!-- Action Buttons Section -->
        <section class="action-buttons-section">
          <div class="action-buttons">
            <button class="filter-button" type="button" id="filterToggleBtn">
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2 4h16M2 10h16M2 16h16"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <span>필터</span>
            </button>
            <button class="sort-button" type="button" id="sortToggleBtn">
              <span>정렬</span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="sort-icon"
              >
                <path
                  d="M6 4l4 4 4-4M6 16l4-4 4 4"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </section>

        <!-- Filter Panel -->
        <div class="filter-panel" id="filterPanel" style="display: none">
          <div class="filter-panel-section">
            <label class="filter-panel-label">등록 타입</label>
            <div class="filter-options">
              <button
                class="filter-option"
                data-filter="registerType"
                data-value="AUTO"
                type="button"
              >
                자동
              </button>
              <button
                class="filter-option"
                data-filter="registerType"
                data-value="MANUAL"
                type="button"
              >
                수동
              </button>
              <button
                class="filter-option"
                data-filter="registerType"
                data-value="AI"
                type="button"
              >
                AI
              </button>
            </div>
          </div>
          <div class="filter-panel-section">
            <label class="filter-panel-label">주변 코스</label>
            <div class="filter-options">
              <button
                class="filter-option"
                data-filter="nearby"
                data-value="true"
                type="button"
              >
                내 주변
              </button>
            </div>
          </div>
          <div class="filter-panel-section">
            <label class="filter-panel-label">내 코스</label>
            <div class="filter-options">
              <button
                class="filter-option"
                data-filter="myCourses"
                data-value="true"
                type="button"
              >
                내 코스 보기
              </button>
              <button
                class="filter-option"
                data-filter="myLikedCourses"
                data-value="true"
                type="button"
              >
                내가 좋아요한 코스 보기
              </button>
              <button
                class="filter-option"
                data-filter="myFavoritedCourses"
                data-value="true"
                type="button"
              >
                내가 즐겨찾기한 코스 보기
              </button>
            </div>
          </div>
          <div class="filter-actions">
            <button class="filter-apply" type="button">적용</button>
            <button class="filter-reset" type="button">초기화</button>
          </div>
        </div>

        <!-- Sort Panel -->
        <div class="sort-panel" id="sortPanel" style="display: none">
          <button class="sort-option active" data-sort="LATEST" type="button">
            최신순
          </button>
          <button class="sort-option" data-sort="DISTANCE" type="button">
            거리순
          </button>
          <button class="sort-option" data-sort="LIKE" type="button">
            좋아요순
          </button>
          <button class="sort-option" data-sort="FAVORITE" type="button">
            즐겨찾기순
          </button>
        </div>

        <!-- Course List Section -->
        <section class="course-list-section">
          <div id="loadingSpinner" class="loading-spinner" style="display: none">
            <div class="spinner"></div>
            <p>로딩 중...</p>
          </div>
          <div class="course-list" id="courseList">
            <!-- 코스 카드들이 동적으로 추가됩니다 -->
          </div>
        </section>
      </main>

      <!-- FAB (Floating Action Button) - 코스 생성 -->
      <button
        type="button"
        id="createBtn"
        class="fab-button"
        aria-label="코스 생성"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 5V19M5 12H19"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <!-- Bottom Navigation -->
      <div th:replace="~{common/bottom-nav :: bottomNav}"></div>
    </div>

    <script src="/js/notification-common.js" th:src="@{/js/notification-common.js}"></script>
    <script src="/js/courseList.js" th:src="@{/js/courseList.js}"></script>
  </body>
</html>