<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>RUNRUN | Challenge Detail</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="/css/challenge-detail.css"
            th:href="@{/css/challenge-detail.css}"
    />
    <link rel="stylesheet" href="/css/notification-toast.css"
          th:href="@{/css/notification-toast.css}">
</head>
<body class="challenge-detail-body">
<main class="page challenge-detail-page">
    <button class="back-button" type="button" aria-label="챌린지 목록으로 돌아가기">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <!-- 챌린지 제목 -->
    <header class="challenge-detail-header">
        <h1 class="challenge-detail-title" data-role="challenge-title">챌린지 제목</h1>
    </header>

    <!-- 챌린지 이미지 -->
    <div class="challenge-image-container">
        <img
                class="challenge-image"
                data-role="challenge-image"
                src=""
                alt="챌린지 이미지"
        />
    </div>

    <!-- 챌린지 정보 카드 -->
    <section class="challenge-info-card">
        <!-- 날짜 범위 -->
        <div class="info-row">
            <span class="info-icon">📅</span>
            <span class="info-text" data-role="period-text">-</span>
        </div>

        <!-- 참가자 수 -->
        <div class="info-row">
            <span class="info-icon">👥</span>
            <span class="info-text" data-role="participant-text">-명 참가</span>
        </div>

        <!-- 참여중인 경우: 진행 상황 -->
        <div class="info-row progress-row" data-role="progress-area" hidden>
            <span class="info-label">진행 상황</span>
            <span class="info-value" data-role="progress-stats">-</span>
        </div>
        <div class="progress-bar-container" data-role="progress-bar-container" hidden>
            <div class="progress-bar" data-role="progress-bar">
                <div class="progress-fill" data-role="progress-fill" style="width: 0%"></div>
            </div>
        </div>

        <!-- 목표 달성 기간 메시지 -->
        <div class="info-message" data-role="days-message">
            <span data-role="days-message-text">-</span>
        </div>
    </section>

    <!-- 챌린지 상세 정보 -->
    <section class="challenge-detail-section">
        <h2 class="detail-section-title">챌린지 설명</h2>
        <div class="challenge-description" data-role="challenge-description">
            <!-- JS로 동적 생성 -->
        </div>
    </section>

    <!-- 참여 상태에 따른 UI -->
    <section class="challenge-action-section">
        <!-- 참여하지 않은 경우: 참여하기 버튼 -->
        <button
                class="join-button"
                type="button"
                data-role="join-button"
                hidden
        >
            참여하기
        </button>

        <!-- 참여중인 경우: 포기 버튼 -->
        <button
                class="cancel-button"
                type="button"
                data-role="cancel-button"
                hidden
        >
            챌린지 포기
        </button>

        <!-- 관리자용: 수정하기 버튼 -->
        <button
                class="edit-button"
                type="button"
                data-role="edit-button"
                hidden
        >
            수정하기
        </button>

        <!-- 관리자용: 삭제하기 버튼 -->
        <button
                class="delete-button"
                type="button"
                data-role="delete-button"
                hidden
        >
            삭제하기
        </button>
    </section>
</main>

<template id="bottomNavTemplate">
    <nav class="bottom-nav" aria-label="하단 메뉴">
        <a class="nav-item" th:href="@{/chat}" href="/chat">
            <img
                    src="/img/icons/chat.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>chat</span>
        </a>
        <a class="nav-item" th:href="@{/feed}" href="/feed">
            <img
                    src="/img/icons/feed.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>feed</span>
        </a>
        <a class="nav-item" th:href="@{/}" href="/">
            <img
                    src="/img/icons/home.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>home</span>
        </a>
        <a class="nav-item" th:href="@{/match}" href="/match">
            <img
                    src="/img/icons/match.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>match</span>
        </a>
        <a class="nav-item" th:href="@{/my}" href="/my">
            <img
                    src="/img/icons/my.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>my</span>
        </a>
    </nav>
</template>

<div
        id="bottomNavMount"
        th:replace="~{common/bottom-nav :: bottomNav}"
></div>

<script src="/js/notification-common.js" th:src="@{/js/notification-common.js}"></script>
<script src="/js/challenge-detail.js" th:src="@{/js/challenge-detail.js}"></script>
</body>
</html>


