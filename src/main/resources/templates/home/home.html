<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>RUNRUN | Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fugaz+One&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="/css/home.css"
            th:href="@{/css/home.css}"
    />
</head>
<body class="home-body">
<main class="page home-page">
    <!-- 헤더: RUNRUN 타이틀 + 알림 아이콘 -->
    <header class="home-header">
        <h1 class="home-logo">RUNRUN</h1>
        <button
                class="notification-button"
                type="button"
                data-role="notification-button"
                aria-label="알림 페이지로 이동"
        >
            <svg class="bell-icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 3 16 3 16H21C21 16 19 14.25 19 9C19 5.13 15.87 2 12 2Z"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 21C9 22.1 9.9 23 11 23H13C14.1 23 15 22.1 15 21" stroke="currentColor" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="notification-badge" data-role="notification-badge" hidden>0</span>
        </button>
    </header>

    <!-- 오늘의 러닝 통계 배너 -->
    <section class="today-stats-section">
        <div class="today-stats-header">
            <h2 class="today-stats-title">Today</h2>
            <div class="week-total-stats">
                <span class="week-stat">Week <span data-role="week-distance">0.0</span>Km</span>
                <span class="total-stat">Total <span data-role="total-distance">0.0</span>km</span>
            </div>
        </div>
        <div class="today-stats-grid">
            <div class="stat-item">
                <div class="stat-icon">
                    <img src="https://www.figma.com/api/mcp/asset/6865a41f-9a2e-4bcb-94e4-1174cd32e1ae" alt="Distance"
                         class="stat-icon-img"/>
                </div>
                <div class="stat-content">
                    <p class="stat-value" data-role="today-distance">0.0<span class="stat-unit">Km</span></p>
                    <p class="stat-desc">Distance</p>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">
                    <img src="https://www.figma.com/api/mcp/asset/47c0ef7c-1972-4b2a-9dc0-4391c385d92a" alt="Duration"
                         class="stat-icon-img"/>
                </div>
                <div class="stat-content">
                    <p class="stat-value" data-role="today-duration">00:00</p>
                    <p class="stat-desc">Duration</p>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">
                    <img src="https://www.figma.com/api/mcp/asset/422fee5a-a265-477c-b511-8e58f1f2cb3a" alt="Calories"
                         class="stat-icon-img"/>
                </div>
                <div class="stat-content">
                    <p class="stat-value" data-role="today-calories">0<span class="stat-unit">kcal</span></p>
                    <p class="stat-desc">Calories</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 요일별 러닝 통계 -->
    <section class="weekly-stats-section">
        <!-- 주별 통계 헤더 (거리, 주 선택, 시간) -->
        <div class="weekly-stats-header">
            <div class="weekly-stat-chip weekly-distance-chip">
                <svg class="weekly-stat-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="12" cy="9" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="weekly-stat-value" data-role="weekly-total-distance">0.0km</span>
            </div>
            <div class="weekly-week-selector">
                <button class="week-nav-button week-nav-prev" type="button" data-role="week-prev" aria-label="이전 주">
                    <svg width="9" height="14" viewBox="0 0 9 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 1L1 7L8 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <span class="week-label" data-role="week-label">12월 둘째 주</span>
                <button class="week-nav-button week-nav-next" type="button" data-role="week-next" aria-label="다음 주">
                    <svg width="9" height="14" viewBox="0 0 9 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 1L8 7L1 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="weekly-stat-chip weekly-duration-chip">
                <svg class="weekly-stat-icon" width="13" height="13" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span class="weekly-stat-value" data-role="weekly-total-duration">0h 0m</span>
            </div>
        </div>
        <div class="weekly-chart-container">
            <div class="chart-bars" data-role="chart-bars">
                <!-- JS로 동적 생성 -->
            </div>
            <div class="chart-days">
                <span>Mo</span>
                <span>Tu</span>
                <span>We</span>
                <span>Th</span>
                <span>Fr</span>
                <span>Sa</span>
                <span>Su</span>
            </div>
        </div>
    </section>

    <!-- 진행중인 챌린지 홍보 배너 -->
    <section class="challenge-banner-section">
        <div class="challenge-banner-container" data-role="challenge-banner-container">
            <button class="challenge-nav-button challenge-nav-prev" type="button" data-role="challenge-prev" aria-label="이전 챌린지">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <div class="challenge-banner-slider" data-role="challenge-banner-slider">
                <!-- JS로 동적 생성 -->
            </div>
            <button class="challenge-nav-button challenge-nav-next" type="button" data-role="challenge-next" aria-label="다음 챌린지">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
    </section>
</main>

<template id="bottomNavTemplate">
    <nav class="bottom-nav" aria-label="하단 메뉴">
        <a class="nav-item" th:href="@{/chat}" href="/chat">
            <img
                    src="/img/icons/chat.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>chat</span>
        </a>
        <a class="nav-item" th:href="@{/feed}" href="/feed">
            <img
                    src="/img/icons/feed.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>feed</span>
        </a>
        <a class="nav-item active" th:href="@{/}" href="/">
            <img
                    src="/img/icons/home.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>home</span>
        </a>
        <a class="nav-item" th:href="@{/match}" href="/match">
            <img
                    src="/img/icons/match.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>match</span>
        </a>
        <a class="nav-item" th:href="@{/my}" href="/my">
            <img
                    src="/img/icons/my.svg"
                    alt=""
                    aria-hidden="true"
            />
            <span>my</span>
        </a>
    </nav>
</template>

<div
        id="bottomNavMount"
        th:replace="~{common/bottom-nav :: bottomNav}"
></div>

<script src="/js/home.js" th:src="@{/js/home.js}"></script>
</body>
</html>